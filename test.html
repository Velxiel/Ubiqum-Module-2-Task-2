<!DOCTYPE html>
<html lang="en">

<head>
  <!--EXPLANATION -->
  <!--All of the following code is copied from (*https://www.w3schools.com/bootstrap/bootstrap_get_started.asp*) to style my HTML-Page -->

  <!--The paste starts here -->
  <meta charset="utf-8">

  <!--This to make my Page be responsive to any device-->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <!--And ends here -->

  <!-- (1) This is a link to Google-Fonts that provides me with style for *font-family* that I am going to use in my CSS file -->
  <!-- <link href="https://fonts.googleapis.com/css?family=Rationale" rel="stylesheet"> -->
  <link href="https://fonts.googleapis.com/css?family=Fjalla+One|Rationale" rel="stylesheet">

  <link rel="stylesheet" href="senate-starter-page.css">
</head>

<body>
  <header>
    <div class="logo">
      <img src="logo.png" alt="TGIF Logo" width="100px">
    </div>
    <div class="e-mail">
      <img src="e-mail-icon.svg" alt="E-mail Icon" width="40px">
      <a href="mailto:info@tgif.net?subject=To%20TGIF%20Team&body=Hello!%0AI%20would%20like%20%20to%20ask:">info@tgif.net</a>
    </div>
  </header>

  <nav class="navbar navbar-inverse">
    <div class="container-fluid">
      <ul class="nav navbar-nav">
        <li class="active"><a href="home-starter-page.html">Home</a></li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Congress 113
              <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="senate-starter-page.html">Senate</a></li>
            <li><a href="house-starter-page-jquery.html">House</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>
  <!--Table container-->

  <h2>Senators</h2>
  <p>
    First convened in 1789, the composition and powers of the Senate are established in Article One of the U.S. Constitution. Each state is represented by two senators, regardless of population, who serve staggered six-year terms. The Senate has several exclusive
    powers not granted to the House, including consenting to treaties as a precondition to their ratification and consenting to or confirming appointments of Cabinet secretaries, federal judges, other federal executive officials, military officers, regulatory
    officials, ambassadors, and other federal uniformed officers, as well as trial of federal officials impeached by the House.
  </p>

  <!-- Here are the Checkboxes being created -->
  <fieldset>
    <div>
      <div class="checkboxes checkbox1">
        <label class="checkbox-title">Filter By Party: </label>
        <input type="checkbox" value="R" checked="">
        <label for="foo_bar">Republican</label>
        <input type="checkbox" value="D" checked="">
        <label for="foo_baz">Democrat</label>
        <input type="checkbox" value="I" checked="">
        <label for="foo_baz">Independent</label>
      </div>
      <div class="checkboxes checkbox2">
        <label class="checkbox-title">Filter By State: </label>
        <input type="checkbox" name="foo" value="bar" id="foo_bar">
        <label for="foo_bar">Party</label>
      </div>
    </div>
  </fieldset>

  <!-- Here I put the class with the name "table table-hover", to import the attributes of my linked script that I put in the head-->
  <table id="senate-data" class="table table-hover table-bordered">
    <thead>
      <tr>
        <th>Members</th>
        <th>Full Name</th>
        <th>Party</th>
        <th>State</th>
        <th>Seniority</th>
        <th>Vote Percentage</th>
      </tr>
    </thead>
  </table>

  <footer class="container-fluid navbar navbar-inverse footer-size">
    <p>@2016 TGIF | All Rights Reserved</p>
  </footer>
</body>

<script src="congress-113-house.js"></script>
<script>
  // First of all, I need to access the Object of my JS-file, this is why I used 'data'
  // Then I have to access the 'results'-array's first and only element
  // Lastly I write 'members' to access the specific object of my array that gives me the information that I want
  var members = data.results[0].members;
  var tbody = $('<tbody />');

  for (var i = 0; i < members.length; i++) {

    //I used this *var tr = ''* to inform the computer about this empty string, so that in the future it's going to contain the data of the table that I wanted to create!!
    var member = members[i];

    // Here an *addClass* element is required to give a class to some specific elements later
    var tr = $('<tr />').addClass(member.party);

    // I create this variable to make my code look more tidy and clean
    var name = member.first_name + ' ' + (member.middle_name || "") + ' ' + member.last_name;

    tr.append($('<td />').text(i + 1));

    var a = $('<a />').text(name).attr('href', member.url).attr('target', '_blank');
    tr.append($('<td />').append(a));
    // OOOORRRR this syntax could also be used, but it becomes less readable
    // tr.append($('<td />').append($('<a />').text(name).attr('href', member.url).attr('target', '_blank'));

    tr.append($('<td />').text(member.party));
    tr.append($('<td />').text(member.state));
    tr.append($('<td />').text(member.seniority));
    tr.append($('<td />').text(member.votes_with_party_pct + ' %'));

    tbody.append(tr);
  }
  console.log(4);
  // Here is needed to import the data from JS to the HTML and also using HTML Element-Tags INSIDE the JS
  // The 1st way of doing that is this:
  //  document.getElementById("senate-data").innerHTML = tbody;
  // And the 2nd way is by using jQuery like this:
  $('#senate-data').append(tbody);

  // function onCheckboxChanged(event) { ... }
  // OR this syntax:
  var onCheckboxChanged = function(event) {
    console.log(event);
    var checkbox = $(event.currentTarget);

    var isChecked = checkbox.prop('checked');
    console.log(checkbox.val(), isChecked);

    if (isChecked) {
      $("tbody tr." + checkbox.val()).show(1000, function() {
        console.log("You have selected  the " + .checkbox.val() + " party!!");
      });
    } else {
      $("tbody tr." + checkbox.val()).hide();
    }
  }

  // $("tbody tr." + checkbox.val()).show(onCheckboxChanged);

  //   if (isChecked) {
  //     $('tbody tr:not(.' + checkbox.val() + ')').hide();
  //   } else {
  //     $('.' + checkbox.val()).show();
  //   }
  // }
  $('input[type=checkbox]').each((e) => console.log(e));


  // you have to loop all the members like you already did in the table and get, for every member, the STATE.
  // var select = $('<select />')
  // inside the loop: select.append(selectElement) where select element is a jQuery object like the `td` we did today
