<!DOCTYPE html>
<html lang="en">

<head>
  <!--EXPLANATION -->
  <!--All of the following code is copied from (*https://www.w3schools.com/bootstrap/bootstrap_get_started.asp*) to style my HTML-Page -->

  <!--The paste starts here -->
  <meta charset="utf-8">

  <!--This to make my Page be responsive to any device-->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <!--And ends here -->

  <!-- (1) This is a link to Google-Fonts that provides me with style for *font-family* that I am going to use in my CSS file -->
  <!-- <link href="https://fonts.googleapis.com/css?family=Rationale" rel="stylesheet"> -->
  <link href="https://fonts.googleapis.com/css?family=Fjalla+One|Rationale" rel="stylesheet">

  <link rel="stylesheet" href="senate-starter-page.css">
</head>

<body>
  <header>
    <div class="logo">
      <img src="logo.png" alt="TGIF Logo" width="100px">
    </div>
    <div class="e-mail">
      <img src="e-mail-icon.svg" alt="E-mail Icon" width="40px">
      <a href="mailto:info@tgif.net?subject=To%20TGIF%20Team&body=Hello!%0AI%20would%20like%20%20to%20ask:">info@tgif.net</a>
    </div>
  </header>

  <nav class="navbar navbar-inverse">
    <div class="container-fluid">
      <ul class="nav navbar-nav">
        <li class="active"><a href="home-starter-page.html">Home</a></li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Congress 113
            <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="congress-113-senate.html">Senate</a></li>
            <li><a href="congress-113-house-jQuery.html">House</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Attendance
            <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="attendance-senate.html">Senate</a></li>
            <li><a href="attendance-house.html">House</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Party Loyalty
            <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="party-loyalty-senate.html">Senate</a></li>
            <li><a href="party-loyalty-house.html">House</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <!--Table container-->
  <div>
    <h2>Party Loyalty</h2>
    <p>Those who consider themselves to be strong partisans, strong Democrats and strong Republicans respectively, tend to be the most faithful in voting for their party's nominee for office and legislation that backs their party's agenda. </p>

    <h2>Senate at a glance</h2>
    <table>
      <thead>
        <tr>
          <th>Party</th>
          <th>Number of Reps</th>
          <th>% Voted with Prty</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Republican</td>
          <td>--</td>
          <td>--</td>
        </tr>
        <tr>
          <td>Democrat</td>
          <td>--</td>
          <td>--</td>
        </tr>
        <tr>
          <td>Independent</td>
          <td>--</td>
          <td>--</td>
        </tr>
      </tbody>
    </table>

    <h2>Least Loyal (Bottom 10% of Party)</h2>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Number Party Votes</th>
          <th>% Party Votes</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>--</td>
          <td>--</td>
          <td>--</td>
        </tr>
        <tr>
          <td>--</td>
          <td>--</td>
          <td>--</td>
        </tr>
        <tr>
          <td>--</td>
          <td>--</td>
          <td>--</td>
        </tr>
        <tr>
          <td>--</td>
          <td>--</td>
          <td>--</td>
        </tr>
        <tr>
          <td>--</td>
          <td>--</td>
          <td>--</td>
        </tr>
        <tr>
          <td>--</td>
          <td>--</td>
          <td>--</td>
        </tr>
      </tbody>
    </table>

    <h2>Most Loyal (Top 10% of Party)</h2>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Number Party Votes</th>
          <th>% Party Votes</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>--</td>
          <td>--</td>
          <td>--</td>
        </tr>
        <tr>
          <td>--</td>
          <td>--</td>
          <td>--</td>
        </tr>
        <tr>
          <td>--</td>
          <td>--</td>
          <td>--</td>
        </tr>
        <tr>
          <td>--</td>
          <td>--</td>
          <td>--</td>
        </tr>
        <tr>
          <td>--</td>
          <td>--</td>
          <td>--</td>
        </tr>
        <tr>
          <td>--</td>
          <td>--</td>
          <td>--</td>
        </tr>
        <tr>
          <td>--</td>
          <td>--</td>
          <td>--</td>
        </tr>
      </tbody>
    </table>
  </div>

  <footer class="container-fluid navbar navbar-inverse footer-size">
    <p>@2016 TGIF | All Rights Reserved</p>
  </footer>
</body>

<script src="congress-113-senate.js"></script>
<script src="senate-statistics.js"></script>
<script>
  // Takes the data from the JSON object
  var members = data.results[0].members;

  // Creation of a Sorted Array
  // So that all the 'members' can be accessed from this function with the parameters 'x' & 'y'
  var sortedArray = members.sort(function(x, y) {

    // This loop checks EVERY element inside the array
    // Checks which of the 2 numbers (x & y) with the value 'votes_with_party_pct'
    if (x.votes_with_party_pct < y.votes_with_party_pct) {
      // If the first is smaller than the latter, then we order it not to do anything
      return -1;
      // This -1 means practicaly "Don't do anything!!"
    } else {
      return 1;
      // This 1 means practicaly "Do something!!"
      // There is also 0, that says "Leave everything as it is!!"
    }
  });

  console.log(sortedArray);

  // Counting the 'ten percent' of the JSON total
  var tenPercent = Math.round(members.length * (0.1));
  console.log(tenPercent);

  for (var i = 0; i < tenPercent; i++) {
    var member = members[i];

    // I create this variable to make my code look more tidy and clean
    var name = member.first_name + ' ' + (member.middle_name || "") + ' ' + member.last_name;
    console.log(name);

    // Show percentage
    var percentageOfLeastEngaged = member.votes_with_party_pct + " %";
    console.log(percentageOfLeastEngaged);

    // ??????????????????????????????????????????????????????????????????????????????????????????????????????????????????
    var lastListItem = member[tenPercent];
  }
  for (var i = tenPercent + 1; i < members.length; i++) {
    var member = members[i];

    if (member === lastListItem) {
      var extraPercentageOfLeastEngaged = member.votes_with_party_pct + "%";
      console.log(extraPercentageOfLeastEngaged);
    }
  }
</script>

</html>
